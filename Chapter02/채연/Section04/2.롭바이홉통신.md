# 홉바이홉 통신 (hop by hop)
## 1. 개념
    네트워크에서 패킷이 목적지까지 도달할 때 중간 라우터를 하나씩 거쳐 전송되는 방식 
- 수많은 서브네트워크 안에 있는 라우터의 라우팅 테이블 IP를 기반으로 패킷을 전달하는 과정을 반복하여(라우팅) 최종 목적지까지 패킷을 전달한다. 
- 패킷이 여러개의 라우터를 건너가는 모습을 비유적으로 hop 이라고 표현한 것
    - 한 번에 멀리 보내는 것이 아니라 한 단계씩 건네주는 방식  
    - 따라서 각 라우터는 전체 경로를 모르고, 다음 목적지만 알고 있으면 된다.

## 2. 목적?
#### 확장성
    - 모든 네트워크 장치가 전체 경로를 몰라도 된다. (자기 다음 홉만 알면 됨)
    - 따라서 매우 큰 네트워크 운영이 가능하다. 
#### 장애 대응 유리
    - 중간 라우터가 경로를 바꿀 수 있기 때문에 네트워크 혼잡이나 장애 대응에 유리하다. 
    - 또한 특정 홉에 문제가 생기면 다른 경로로 우회해서 전송 가능하기 때문에 장애 회복력이 높다. 
#### 라우팅 최적화
    - 각 홉에서 최적의 경로를 계산할 수 있다. 
    - 따라서 트래픽 상황에 따라 동적으로 경로 선택이 가능하다. 
#### cf) 라우팅
    IP 주소를 찾아가는 과정이다. 


## 3. 홉바이홉이 아니었다면?
    종단 장치가 전체 경로를 미리 알아야 하고, 그 경로대로 직접 패킷을 보내야 함
- 소규모 네트워크에서만 가능하다.
- 네트워크 규모가 커지면 불가능함 (소스 라우팅)
#### cf) 소스 라우팅
    패킷을 보내는 출발지(소스)가 목적지까지 갈 “전체 경로”를 미리 지정해서 보내는 방식

## 4. 라우팅 테이블
    어떤 목적지 IP 주소로 가기 위해, 어떤 경로(다음 홉)로 패킷을 보내야 하는지를 저장한 표이다.
    즉, 라우터가 패킷을 어디로 보내야 할지 결정할 때 참고하는 정보 목록이다.
#### 라우팅테이블 명령어
    netstat -r

## 5. 게이트웨이
    서로 다른 네트워크를 연결해주는 경계 장비
    서로 다른 규칙과 언어(프로토콜)를 사용하는 두 네트워크가 서로 소통할 수 있도록 돕는다. 

## 6. 라우터 vs 게이트웨이
#### 라우터
    - 네트워크 주소가 다른 경우에 서로 통신하도록 도와주는 장치
    - 같은 프로토콜이지만 + 다른 네트워크 주소인 경우, 라우터
#### 게이트웨이
    - 네트워크 주소가 다른 네트워크를 연결할 때 반드시 거쳐야 함 
        - 서로 같은 IP 대역의 네트워크이면 게이트웨이 거칠 필요 없음
    - 즉 서로 다른 프로토콜에서 데이터를 연결할 때 사용
    - 서로 다른 프로토콜을 사용하는 네트워크 사이의 통신인 경우, 데이터 변환을 수행함.
    - 다른 프로토콜 + 다른 네트워크인 경우, 게이트웨이