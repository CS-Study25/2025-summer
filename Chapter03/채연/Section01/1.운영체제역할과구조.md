# 운영체제 역할과 구조
    운영체제는 유저프로그램과 하드웨어 사이에 존재
- 인터페이스(CUI, GUI), 시스템 콜, 커널, 드라이버

## 1. 운영체제 역할
- CPU 스케줄링과 프로세스 관리
    - CPU 소유권을 어떤 프로세스에 할당할지, 프로세스의 생성과 삭제, 자원 할당 및 반환 관리
- 메모리 관리
    - 한정된 메모리를 어떤 프로세스에 얼만큼 할당할지
- 디스크 파일 관리
    - 디스크 파일을 어떤 방법으로 관리할지
- I/O 디바이스 관리
    - 마우스, 키보드와 컴퓨터간에 데이터를 주고받는것

#### 시스템콜
    사용자 프로그램이 운영 체제의 커널 기능을 요청할 때 사용하는 정해진 인터페이스이다. 
- 시스템콜을 통해서만 커널 기능을 요청할 수 있다. 

### CPU 작동 두 가지 모드
#### 사용자 모드 
    일반 프로그램이 실행되는 제한된 모드 
- 시스템 자원에 제한적으로 접근 (직접 접근 불가능)
- 자신의 프로세스 메모리만 접근 가능
- 시스템 콜을 통해 트랩 발동으로(ex: write()) 커널 모드로 진입 가능
#### 커널 모드
    운영체제가 실행되는 모든 권한이 허용된 모드 
- 시스템 자원에 직접 접근 가능 (CPU, 메모리, 디바이스 모두 접근 가능)
- 전체 시스템 메모리 접근 가능
- 언제든지 사용자 모드로 진입 가능

#### ex)
특정 파일을 읽고자 할때, 유저 모드로 읽는 게 아니라, 커널 모드로 들어간 후 파일을 읽고 유저 모드로 돌아감

#### modebit
    1와 0을 가지는 플래그 변수
    0: 커널 모드
    1: 유저 모드
- 시스템 콜이 작동될 때 modebit을 참고하여 유저 모드와 커널 모드를 구분한다. 
- 카메라, 키보드 등의 I/O 기반 디바이스는 운영체제를 통해서만 동작한다. 
    - 따라서 커널 모드를 거쳐, 운영체제를 통하 동작하게 한다. 
- 유저 모드: 유저가 접근할 수 있는 영역을 제한적으로 둔다. 
- 커널 모드: 모든 컴퓨터 자원에 접근할 수 있는 모드