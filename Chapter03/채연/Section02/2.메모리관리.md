## 1. 메모리 관리 
    운영체제의 대표적인 역할, 메모리 관리 

### 1.1 가상 메모리
    물리 메모리에 한계가 존재하기 때문에 가상 메모리로 보완한다. 
- 운영체제가 물리 메모리를 추상화하여 각 프로세스에 독립적이고 넓은 주소 공간 제공 
    - 여러 프로세스가 충돌 없이 동시에 사용할 수 있음
    - 메모리 부족 시 디스크 일부를 메모리처럼 사용 가능 
- 프로세스마다 분리된 가상 주소 공간을 제공
    - CPU는 가상 주소로 접근하고, MMU(메모리 관리 장치)가 가상 주소를 실제 주소로 변환 

#### 가상 주소
    프로세스가 사용하는 주소 (논리 주소)
#### 실제 주소 
    실제 RAM에서의 주소 
#### 페이지 테이블 
    가상 주소와 실제 주소를 매핑하고 프로세스의 주소 정보가 들어있는 테이블
- 페이지 테이블 조회 속도를 향상시키기 위해 별토 캐시 계층의 TLB을 둔다. 
#### 페이지 폴트
	CPU는 가상 메모리의 어떤 주소(가상 주소)를 실행하려 했는데, 그 주소에 해당하는 실제 데이터가 현재 RAM에 없을 때

#### 1.1.1 스와핑

	물리 메모리(RAM)가 부족할 때, 일부 프로세스나 메모리 페이지를 디스크로 잠시 내보냈다가(RAM → Disk), 다시 필요할 때 가져오는(RAM ← Disk) 동작
- 즉 RAM와 Disk(하드디스크) 사이의 자리 바꾸기 (스와핑)

## 2. 스레싱 
    메모리에서 페이지 폴트율이 높은 것을 의미
    메모리에 너무 많은 프로세스가 동시에 올라가서 스와핑이 많이 일어나서 발생하는 것
- 컴퓨터의 성능이 심하게 저하됨 
    - 페이지 폴트가 일어나면, CPU 이용률이 저조해짐 -> 운영체제는 CPU가 한가하다고 생각 -> 더 많은 프로세스를 메모리에 올리게 됨 -> 악순환 반복...스레싱 발생 
    - 물리적인 해결방법? 메모리를 늘리거나 or HDD을 SSD로 바꾸기 
    - 운영체제 해결방법? 작업세트 or PFF
#### 2.1 작업 세트
    미리 작업 세트를 만들어서 메모리에 로드하는 것 
- 프로세스의 과거 사용 이력인 지역성을 통해 결정된 페이지 집합을 만들어서 미리 메모리에 로드하는 것 
    - 탐색비용, 스와핑 감소

#### 2.2 PFF
    상한선, 하한선 설정 
- 페이지 폴트 빈도를 조절하는 방법 
    - 상한선에 도달하면 프레임을 늘린다. 
    - 하한선에 도달하면 프레임을 줄인다. 

## 3. 메모리 할당
    메모리에 프로그램 할당 
    시작 메모리 위치, 메모리의 할당 크기를 기반으로 할당한다. 
- 연속 할당, 불연속 할당 존재 

#### 3.1. 연속 할당
    메모리에 연속적으로 공간 할당
##### 가변 분할 방식
    매 시점에, 프로그램의 크기에 맞게 동적으로 메모리를 나눠 사용한다. 
- 외부 단편화 발생
    - 사용하지 않는 메모리 공간이 조각조각 흩어져있는 상황 
    - 전체 빈 공간은 많지만 필요한 크기의 연속된 공간을 확보할 수 없는 상태 

- 가변 분할 방식의 종류: 최초 적합, 최적 적합, 최악 적합
    - 최초 적합: 처움부터 차례로 탐색하여 크기가 맞는 첫 번째 빈 공간에 할당 
    - 최적 적합: 전체 빈 공간을 훑어서 크기가 딱 맞거나 아깝게 큰 곳에 할당 
    - 최악 적합: 전체 빈 공간에서 가장 큰 공간에 할당 
##### 고정 분할 방식 
    메모리를 미리 나누어 관리한다. 
- 내부 단편화 발생 (단점), 즉 메모리 낭비가 생긴다. 
    - 메모리 할당은 받았지만 프로세스가 실제로 사용하지 않는 공간이 낭비되는 것 
#### 3.2. 불연속 할당
    메모리가 불연속적으로 공간 할당
    운영체제가 쓰는 방법인 페이징 기법이 있다. 
##### 페이징
    동일한 크기의 페이지로 나누어 메모리의 서로 다른 위치에 프로세스 할당 
- 홀 크기가 동일하다는 장점
- 주소 변환 과정이 복잡해짐 , 주소 변환하는데 속도가 낮아지므로 TLB 등의 보조장치 필요 
##### 세그멘테이션
    페이지 단위가 아니라, 의미 단위로 나누는 방식 
- 홀 크기가 동일하지 않다는 단점 
- 보안 측면에서의 장점 
- 세그멘테이션은 논리적 단위로 메모리를 나누기 때문에, 각 단위마다 접근 권한 설정과 공유 제어가 쉬워,
보안과 효율적인 자원 공유에 강점을 갖는다. 
##### 페이지드 세그멘테이션 
    프로그램을 세그먼트 단위로 나누고 동일한 크기의 페이지로 나누는 것 

## 4. 페이지 교체 알고리즘
    메모리는 한정되어 있기 때문에 스와핑이 많이 발생
    페이지 교체 알고리즘으로 스와핑이 발생한다. 

#### 4.1. 오프라인 알고리즘
    먼 미래에 참조되는 페이지와 현재 할당하는 페이지를 바꾸는 알고리즘 
#### 4.2. FIFO
    가장 먼저 온 페이지를 교체 영역에 가장 먼저 놓는 방법
#### 4.3. LRU
    참조가 가장 오래된 페이지를 바꾸는 방법 
- 오래된 것을 파악하기 위해 각 페이지마다 계수기, 스택을 두어야 하므로 단점이다. 
