# ERD와 정규화 과정

### 1. ERD
    시스템에 필요한 데이터 구조를 엔타티, 속성, 관계 중심으로 도식화한 것 
- ERD는 관계형 구조로 표현할 수 있는 데이터를 구성하는 데 유용하다.
- 하지만, 비정형 데이터 표현은 불가능하다. 

### 2. 정규화
    정규화 과정은 릴레이션 간의 잘못된 종속 관계로 인해 데이터베이스 이상 현상이 일어나서 이를 해결하거나, 저장 공간을 효율적으로 사용하기 위해 릴레이션을 여러 개로 분리하는 과정이다. 
- 정규화된 정도는 정규형으로 표현한다. 
- 제1정규형, 제2정규형, 제3정규형, 보이스/코드 정규형이 있다. 
- 정규형은 정규형 원치칙을 따른다.
    - 자료의 중복성은 감소해야 한다. 
    - 독립적인 관계는 별개의 릴레이션으로 표현해야 한다. 
    - 각각의 릴레이션은 독립적인 표현이 가능헤야 한다. 

#### 2.1. 제1정규형
    릴레이션의 모든 도메인이 더 이상 분해될 수 없는 원자 값만으로 구성되어야 한다. 
- 릴레이션의 속성 값 중에서 한 개의 기본키에 대해 두 개 이상의 값을 가지는 반복 집합이 있어서는 안 된다. 
- ex) 하나의 레코드에 수강명 속성값이 {프론트 특강, 백엔드 특강}으로 두 개 이상의 값을 가지면, 나눠서 하나의 값만 가지도록 해야한다. 

#### 2.2. 제2정규형
    릴레이션이 제1정규형인 상태에서, 부분 함수의 종속성을 제거한 형태를 말한다. 
- 기본키가 아닌 속성이 기본키에 완전하게 종속되어야 한다. 기본키의 일부에만 종속된다면, 이는 부분적으로 종속되는 것이다. 따라서 테이블을 쪼개주어야 한다. 

#### 2.3. 제3정규형
    릴레이션이 제2정규형이고, 기본키가 아닌 모든 속성이 이행적 함수 종속을 만족하지 않는 상태를 말한다. 
- A -> B 와 B -> C가 존재하면 논리적으로 A -> C가 성립하는데, 이때 집합 C가 집합 A에 이행적으로 함수 종속이 되었다고 한다. 
- 이때, C가 A에 직접 종속되지 않고 B를 통해 종속되는 구조이므로, 이를 방지하기 위해 C가 B에만 종속되도록 테이블을 분해한다.

#### 2.4. 보이스/코드 정규형
    릴레이션이 제3정규형이고, 결정자가 후보키가 아닌 함수 종속 관계를 제거하여 릴레이션의 함수 종속 관계에서 모든 결정자가 후보키인 상태를 말한다. 
- 후보키 내부의 일부 속성이 결정자가 되는 함수 종속이 발생할 때 문제가 된다. 
-   교수ID   /   과목명   /     강의실

    101         DB          1호관

    101         OS          1호관

    102        통계학         2호관
- 위와 같은 테이블이 존재할 때 {교수ID, 과목명}이 강의실을 결정하는 유일한 후보키이지만, 현재 데이터로 보면, 후보키의 일부 속성인 교수ID -> 강의실의 종속 관계도 추가로 존재하여 문제가 된다. 